<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.ff31de0ff">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Douglas Caina Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Douglas Caina Blog Atom Feed">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Anonymous+Pro&display=swap">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:200,400,800&display=swap"><title data-react-helmet="true">Front-end for Single page applications(Angular, React, Vue) that scales with your team and how to makes sense of it. | Douglas Caina</title><meta data-react-helmet="true" property="og:title" content="Front-end for Single page applications(Angular, React, Vue) that scales with your team and how to makes sense of it. | Douglas Caina"><meta data-react-helmet="true" name="description" content="creative-patrck-front-end"><meta data-react-helmet="true" property="og:description" content="creative-patrck-front-end"><meta data-react-helmet="true" property="og:url" content="http://caina.dev.br/blog/2019/11/20/frontend-angular-react-architecture-scales"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_tag" content="default"><link data-react-helmet="true" rel="shortcut icon" href="/img/cool-lama.svg"><link data-react-helmet="true" rel="canonical" href="http://caina.dev.br/blog/2019/11/20/frontend-angular-react-architecture-scales"><link data-react-helmet="true" rel="alternate" href="http://caina.dev.br/blog/2019/11/20/frontend-angular-react-architecture-scales" hreflang="en"><link data-react-helmet="true" rel="alternate" href="http://caina.dev.br/blog/2019/11/20/frontend-angular-react-architecture-scales" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.898aeb41.css">
<link rel="preload" href="/assets/js/runtime~main.8dd1bcbe.js" as="script">
<link rel="preload" href="/assets/js/main.dcb837ae.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/cool-lama.svg" alt="Douglas caina - logo image" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/cool-lama.svg" alt="Douglas caina - logo image" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Caina</strong></a><a class="navbar__item navbar__link" href="/docs/a-list-of-usefull-links">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/cool-lama.svg" alt="Douglas caina - logo image" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/cool-lama.svg" alt="Douglas caina - logo image" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Caina</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/a-list-of-usefull-links">Docs</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/blog">Blog</a></li></ul></div></div></div></nav><div class="main-wrapper blog-wrapper blog-post-page"><div class="container margin-vert--lg"><div class="row"><div class="col col--3"><div class="sidebar_2ahu thin-scrollbar"><h3 class="sidebarItemTitle_2hhb">Recent posts</h3><ul class="sidebarItemList_2xAf"><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/2020/06/19/angular-highlight-component-scratch">Simple Angular search highlighting text without dependencies</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/2020/02/12/angular-testing-without-before-each">Angular TDD without BeforeEach, and why its a good idea.</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/2020/01/05/front-end-weight-of-node-modules">The weight of a dependency in a modern SPA application</a></li><li class="sidebarItem_2UVv"><a aria-current="page" class="sidebarItemLink_1RT6 sidebarItemLinkActive_12pM" href="/blog/2019/11/20/frontend-angular-react-architecture-scales">Front-end for Single page applications(Angular, React, Vue) that scales with your team and how to makes sense of it.</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/2019/10/09/angular-simple-feature-toggle-that-works-outside-of-the-route">Creating a featureToggle directive in Angular.</a></li></ul></div></div><main class="col col--7"><article><header><h1 class="margin-bottom--sm blogPostTitle_GeHD">Front-end for Single page applications(Angular, React, Vue) that scales with your team and how to makes sense of it.</h1><div class="margin-vert--md"><time datetime="2019-11-20T00:00:00.000Z" class="blogPostDate_fNvV">November 20, 2019 Â· 6 min read</time></div><div class="avatar margin-vert--md"><div class="avatar__intro"></div></div></header><div class="markdown"><p><img alt="creative-patrck-front-end" src="/assets/images/creative-patrick-bcc4fb47f072235db030aec038466ffe.gif"></p><p>In over 3 years of this new SPA world, I&#x27;ve seen a-lot and today, I want to explain how I structure things arround. as an disclosure, I&#x27;m not saying that&#x27;s a silver bullet, you might have to change it to fit your needs.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="front-end-its-all-about-data"></a>Front-end Its all about Data<a class="hash-link" href="#front-end-its-all-about-data" title="Direct link to heading">#</a></h3><p>When I started on this web thing, front-end was just a way to display information, and I still think that&#x27;s true. Even though the internet those days is impressive fast, any megabyte to open a website may be a problem. Moreover, we have a boom of mobile devices and bad 3g signals are quite normal.</p><p>Taking this into consideration, the app must be just a reflection of the information to display. Any kind of business logic must be executed in the backend, where you have more memory and execution power.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="data-manipulation-between-components-at-different-levels"></a>Data manipulation between components at different levels<a class="hash-link" href="#data-manipulation-between-components-at-different-levels" title="Direct link to heading">#</a></h3><p>The biggest problem that I&#x27;ve faced with SPA&#x27;s is the iteration between components in different locations. Let&#x27;s say that we have an e-commerce, and every time the user press a like button under the product description, this product goes to a list in the header. You can easily send an API request to the backend with the product id and user, but how would you notify the header that there is a new product to display?</p><p>Well most of my previous project, we couple the header and the like button with a function, so when we like the header updates. In angular, you could create a service and share its logic and in React a Redux store could solve it, but then, the header and the product detail would have a relation that would not be that clear.</p><p>This can work for some time, but as the application will grow, these components will be so strongly coupled, that you&#x27;ll end up redoing the same component over and over again, or worst, start to have some really hard bugs to fix.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="layers"></a>Layers<a class="hash-link" href="#layers" title="Direct link to heading">#</a></h3><p>I like to break my applications into 3 layers (That&#x27;s not a rule but I like to follow it as much as possible). We have the <strong>Logic components</strong>, the <strong>Behaviour components</strong>, and the <strong>Dummy components</strong>, I&#x27;m not talking anything new but letâ€™s dive into this.</p><blockquote><p>The number of components layers is important because if it starts to get to &quot;deep&quot;, would be hard to make sense of your code.</p></blockquote><table><thead><tr><th>Component</th><th>Reusability</th><th>What it is use to</th></tr></thead><tbody><tr><td><strong>Logic components</strong></td><td>None</td><td>Interact with Api&#x27;s and mount the structure for the Behaviour components.</td></tr><tr><td><strong>Behaviour components</strong></td><td>Somehow, but unlike</td><td>Group the dumb components, imagine a form that enables a button if all the fields are set, or a password and repeat password interaction, the behaviour component would do this logic.</td></tr><tr><td><strong>Dummy components</strong></td><td>All the time</td><td>this component must receive everything as a dependency.</td></tr></tbody></table><p>Summing up: The first layer calls the backend to get a list of products, send them to a component to distribute the data across the dumb layer.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="folder-strucure"></a>Folder strucure<a class="hash-link" href="#folder-strucure" title="Direct link to heading">#</a></h3><p> So, this is really important, no folder has more than 7 files, more than that and you&#x27;ll get lost. </p><p>But <strong>HOW</strong> is it possible? 1 module in angular has at least 5 files! Well, bear with me.
<img alt="questions-patrick" src="/assets/images/bla-bla-bla-patrick-e787f7756ea1b55eb19eac1c0ea72f23.jpg"></p><p>Imagine that every <strong>Page</strong> is a flow of your app, some people call it even Scenes, because they describe a scene of your app. So we have then a pages folder to list all this &quot;flows&quot;, every flow has a sub-flow, every flow has specific components and so on, check out this scaffold. </p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">+-config.js</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">+-routes.js</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">+-app.js</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">+--i18n/</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">|  |-index.js</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">|  |-en.js</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">|  |-pt_br.js</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">+--components/</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">|  |-Button.js</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">+--pages/</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">|  +-store.js</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">|  +-login/</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">|   |-- login.page.js</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">|   |-- login.service.js</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">|   |-- components/</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">|   |   +- login-form.component.js</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">|  +-blog/</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">|  |   +- blog.store.js</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">|  |   +- blog.service.js</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">|  |   +- components/</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">|  |   |  +-- post-avatar.js</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">|  |   |  +-- comment-button.js</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">|  |   +- post/</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">|  |   |  +- post.service.js</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">|  |   |  +- post.page.js</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">|  |   +- post-detail/</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">|  |   |  +- post-detail.page.js</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">|  |   |  +- post-detail.service.js</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">|  |   |  +- components/</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">|  |   |    |-- user-comment.js</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">|  |   |    |-- hero-banner.js</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">|  |   |    |-- post-content.js</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">|  |   +- post-create/</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">|  |   |  +- post-create.page.js</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">|  |   |  +- post-create.service.js</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>As the root of our app, we want to configure things and everything related to the bootstrap phase, if you run into multiple files with similar goals, try to create folders here, like the <code>i18n/</code>. But usually, here we only configure things.</p><p>In the same level, we have our pages, the &quot;flows&quot; that we were talking about. In this case, it&#x27;s the login and blog sections, they are combining flows that share responsibilities, like the blog section that has posts and everything related to its creation, doing so we can easily share they services and components. </p><blockquote><p>Login could be part of a <strong>user</strong> module if you think in the relation of the data between the login phase and user manipulation, although they would hardly share visual components.</p></blockquote><p>Under the <strong>pages/post</strong> we have a chain of flows, they have at a certain level shared data or components, in an Angular application would be easy to share models and services here. Most of the times I end up with this <code>components</code> folder under the main flow folder to share components seems weird to have this folder spread across the app but in my head it makes sense, I don&#x27;t want to span the main components folder with things that are not ready to be shared to all levels of our app.</p><blockquote><p>IMPORTANT: The components under <code>pages/blog/post/post-detail/components</code> don&#x27;t do any kind of business logic, all of its information comes as properties, and every action is a dependency that comes as a property as well, they will NEVER be connected by redux, they&#x27;ll never have a service injected in their constructor or any sort of smart interaction. Its easier to test something that we control.</p></blockquote><p>You might be thinking to yourself: &quot;Why the user-comment component under the post folder doesnâ€™t retrieve the comments by his own?&quot;. Well, imagine that you want to have the number of total comments in the hero-banner component, as they are siblings, you would have to download this information under the comments section, send it back to <code>post-detail.page.js</code> and then send it back to <code>hero-banner.js</code>. This would create a tight coupling between both components, they&#x27;ll not be a unit by themself, they will be hard to test and when one of this small components break, it would end up breaking its entire environment.</p><p>So this is the architecture that I use all the time, It works pretty well in most of the cases, thanks for reading ðŸ˜—</p><p><img alt="tranks for reading patrick" src="/assets/images/patrick-goodbye-54e16aa959718e86661eaa55abbfd3a3.gif"></p><p><a href="https://docs.google.com/presentation/d/1iDQN3p5Upzv8t_q6sT-K8pF9Kgt5qeb7YjC9uOsV8_c/edit?usp=sharing" target="_blank" rel="noopener noreferrer">Slides of the talk</a></p></div><footer class="row margin-vert--lg"><div class="col"><strong>Tags:</strong><a class="margin-horiz--sm" href="/blog/tags/angular">angular</a><a class="margin-horiz--sm" href="/blog/tags/react">react</a><a class="margin-horiz--sm" href="/blog/tags/front-end">front-end</a></div></footer></article><div></div><div class="margin-vert--xl"><nav class="pagination-nav" aria-label="Blog post page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/blog/2020/01/05/front-end-weight-of-node-modules"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">Â« The weight of a dependency in a modern SPA application</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/blog/2019/10/09/angular-simple-feature-toggle-that-works-outside-of-the-route"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">Creating a featureToggle directive in Angular. Â»</div></a></div></nav></div></main><div class="col col--2"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#front-end-its-all-about-data" class="table-of-contents__link">Front-end Its all about Data</a></li><li><a href="#data-manipulation-between-components-at-different-levels" class="table-of-contents__link">Data manipulation between components at different levels</a></li><li><a href="#layers" class="table-of-contents__link">Layers</a></li><li><a href="#folder-strucure" class="table-of-contents__link">Folder strucure</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/a-list-of-usefull-links">Useful links</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/videos-about-front-end">Videos About Front</a></li></ul></div><div class="col footer__col"><div class="footer__title">Code</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/caina" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github</a></li><li class="footer__item"><a href="https://gitlab.com/caina" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitLab</a></li></ul></div><div class="col footer__col"><div class="footer__title">Social</div><ul class="footer__items"><li class="footer__item"><a href="https://medium.com/@douglascaina" target="_blank" rel="noopener noreferrer" class="footer__link-item">Medium</a></li><li class="footer__item"><a href="https://www.linkedin.com/in/douglascaina/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Linkedin</a></li><li class="footer__item"><a href="https://www.facebook.com/caina27" target="_blank" rel="noopener noreferrer" class="footer__link-item">Facebook</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">No Copyright Â© 2021. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.8dd1bcbe.js"></script>
<script src="/assets/js/main.dcb837ae.js"></script>
</body>
</html>